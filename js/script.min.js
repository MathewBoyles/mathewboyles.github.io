var app;$(document).ready(function(){(app={assetCount:0,assetLoaded:0,popInit:!1,loaded:!1,vars:{root:"/",thumbnails:"/img/thumbnails/",items:[]},contentAware:function(){if(!(app.assetLoaded<app.assetCount||"undefined"==typeof mlPushMenu||"undefined"==typeof Modernizr||"undefined"==typeof classie||"undefined"==typeof Template7||0===app.vars.links.length||0===app.vars.items.length||($("tmpl").each(function(){$(this).data("dataInit")||($(this).data("dataInit",!0),app.template($(this).attr("src"),function(a){$(this).after(a).remove(),app.contentAware()},$(this)))}),$("tmpl").is("*")))){if($(".js-scroll").each(function(){$(this).data("dataInit")||$(this).data("dataInit",1).click(function(a){$($(this).attr("href")).is(":visible")&&($("#scroller").animate({scrollTop:$($(this).attr("href")).offset().top+$("#scroller").scrollTop()},500),a.preventDefault())})}),!$("#portfolio").data("dataInit")&&$("#portfolio").is("*")){$("#portfolio").data("dataInit",1);var a=$("#portfolio-item").html(),t=Template7.compile(a)({items:app.vars.items});$("#portfolio").find("#portfolio-item,.mix").last().after(t);var e="works_"+(new Date).getTime();$("#works-wrap").attr("id",e),mixitup($("#"+e))}return app.loaded||(app.loaded=!0,$(window).trigger("hashchange"),new mlPushMenu($("#mp-menu")[0],$("#navbar-open")[0]),$("#navbar-close").click(function(){$("#navbar-open").click()})),app}},loadPage:function(a){return a||(a="index"),$("#mp-menu .mp-level").hasClass("mp-level-open")&&$("#navbar-open").click(),$.ajax({url:app.vars.root+"tmpl/pages/"+a+".html",cache:!1,success:function(a,t,e){$("#loading").fadeOut(250);var s=a.match(/<title>(.*?)<\/title>/g).map(function(a){return a.replace(/<\/?title>/g,"")});document.title=s[0],$("#page").html(a),$("#page title").remove(),app.contentAware()},error:function(a){app.loadPage(a.status)}}),app},include:function(a,t,e){if("css"==t){var s;(s=$("<link />")).attr("rel","stylesheet").attr("href",a).ready(e),$("body").append(s)}return"js"==t&&$.getScript(a,e),"json"==t&&$.getJSON(a,e),app},template:function(a,t,e){var s;return s="https://"==a.substr(0,8)||"http://"==a.substr(0,7)?a:app.vars.root+"tmpl/"+a+".html",$.ajax({url:s,success:function(a,t,e){return function(a,s,p){var n=a,o=Template7.compile(n)(app.vars);t.call(e,o,s,p),app.contentAware()}}(a,t,e),cache:!1}),app},assetAdd:function(){return app.assetCount++,app},assetLoad:function(){return app.assetLoaded++,app.contentAware(),app},fonts:["Montserrat:700,400:latin","Zilla+Slab"]}).assetAdd().include("https://fonts.googleapis.com/css?family="+app.fonts.join("|"),"css",app.assetLoad),app.assetAdd().include("https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css","css",app.assetLoad),app.assetAdd().include(app.vars.root+"js/plugins/template7/template7.min.js","js",app.assetLoad),app.assetAdd().include(app.vars.root+"js/links.json?_="+(new Date).getTime(),"json",function(a){app.vars.links=a,app.assetLoad()}),app.assetAdd().include(app.vars.root+"js/items.json?_="+(new Date).getTime(),"json",function(a){app.vars.items=a,app.assetLoad()}),app.assetAdd().include(app.vars.root+"js/plugins/swiper/swiper.jquery.min.js","js",app.assetLoad),app.assetAdd().include(app.vars.root+"js/plugins/mixitup/mixitup.min.js","js",app.assetLoad),app.assetAdd().include(app.vars.root+"js/plugins/modernizr/modernizr.custom.min.js","js",app.assetLoad),app.assetAdd().include(app.vars.root+"js/plugins/classie/classie.min.js","js",app.assetLoad),app.assetAdd().include(app.vars.root+"js/plugins/mlpushmenu/mlpushmenu.min.js","js",app.assetLoad),app.contentAware()}),$(window).bind("hashchange",function(a){$("#loading").fadeIn(250),app.loadPage(window.location.hash.replace("#!/",""))});